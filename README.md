# C언어와 MySQL을 활용한 채팅프로그램

## 프로젝트 개요
C언어와 MySQL을 사용하여 실시간 채팅 기능을 구현한 멀티유저 채팅 프로그램입니다. 공개 채팅방, 개인 채팅방, 귓속말 기능을 지원하며, 모든 채팅 기록은 데이터베이스에 저장됩니다.

## 프로젝트 정보
- **개발 기간**: 2025.07.14(월) ~ 2025.07.21(월)
- **개발 장소**: 드론융합실
- **팀명**: C언어와 MySQL을 활용한 채팅프로그램 1팀

## 개발 환경
- **언어**: C언어
- **컴파일러**: gcc
- **데이터베이스**: MySQL
- **운영체제**: Ubuntu Linux

## 팀원 및 담당 업무
| 이름 | 담당 업무 |
|------|----------|
| 조장 | 진행 상황 공유 및 계획 확인, ERD 설계, 코드구현 |
| 팀원1 | 요구사항명세서 작성, 순서도 설계, 코드구현 |
| 이수민 | 화면구상도 설계, 테이블명세서 작성, 코드구현 |
| 팀원2 | 개발계획서 작성, 일정표 관리, 유스케이스 설계, 코드구현 |

## 주요 기능

### 1. 사용자 관리
- **회원가입**
  - ID 중복 체크 기능
  - 사용자 정보 데이터베이스 저장
- **로그인**
  - 아이디, 패스워드 인증
  - 사용자 정보 변경 (ID 중복 체크 포함)

### 2. 공개 채팅방
- 모든 접속자가 참여하는 기본 채팅방
- 실시간 메시지 전송 및 수신
- 채팅 시간 표시 기능
- 접속자 확인 기능 (ID 또는 접속자 수 표시)

### 3. 개인 메시징
- **귓속말 기능**
  - 특정 사용자에게 개인 메시지 전송
  - 다른 사용자들에게는 보이지 않는 비공개 메시지

### 4. 채팅방 관리
- **채팅방 생성**
  - 사용자 정의 채팅방 만들기
- **채팅방 검색**
  - 생성된 채팅방 리스트 조회
- **채팅방 참여/퇴장**
  - 특정 채팅방 입장 및 대화 참여
  - 채팅방 나가기 (자동으로 공개 채팅방 복귀)

### 5. 데이터 관리
- **채팅 로그 저장**
  - 모든 채팅 기록을 MySQL 데이터베이스에 저장
  - 메시지, 시간, 사용자 정보 등 종합 관리

## 기술적 특징

### 네트워크 프로그래밍
- 소켓 프로그래밍을 활용한 클라이언트-서버 구조
- 멀티클라이언트 동시 접속 지원
- 실시간 메시지 송수신

### 데이터베이스 연동
- MySQL 데이터베이스와 C언어 연동
- 사용자 정보 및 채팅 로그 영구 저장
- SQL 쿼리를 통한 데이터 관리

### 동시성 처리
- 멀티스레딩/멀티프로세싱을 통한 동시 접속 처리
- 동기화 메커니즘 구현

## 예상했던 기술적 도전과제

### 1. 동시 접속 처리
- **문제**: 여러 클라이언트의 동시 접속 및 메시지 처리
- **해결 방향**: 멀티스레딩/멀티프로세싱 기술 활용

### 2. 데이터베이스 연결 및 동기화
- **문제**: 다중 클라이언트의 DB 동시 접근 시 데이터 무결성
- **해결 방향**: 트랜잭션 처리 및 락 메커니즘 구현

### 3. 보안 취약점
- **문제**: 사용자 인증 및 데이터 보안
- **해결 방향**: 입력 검증 및 SQL 인젝션 방지

### 4. 메모리 관리
- **문제**: 동적 메모리 할당/해제 및 메모리 누수
- **해결 방향**: 체계적인 메모리 관리 및 자원 해제

### 5. 비동기 이벤트 처리
- **문제**: 실시간 메시지 처리의 복잡성
- **해결 방향**: 이벤트 기반 프로그래밍 패턴 적용

### 6. 에러 처리
- **문제**: 다양한 예외 상황에 대한 대응 부족
- **해결 방향**: 포괄적인 에러 처리 로직 구현

## 시스템 아키텍처
```
[클라이언트1]    [클라이언트2]    [클라이언트N]
      |              |              |
      +---------- [서 버] -----------+
                     |
               [MySQL 데이터베이스]
```

## 설치 및 실행

### 사전 요구사항
```bash
# MySQL 설치
sudo apt-get install mysql-server mysql-client

# MySQL 개발 라이브러리 설치
sudo apt-get install libmysqlclient-dev

# gcc 컴파일러 설치
sudo apt-get install gcc
```

### 컴파일 및 실행
```bash
# 서버 컴파일
gcc -o server server.c -lmysqlclient

# 클라이언트 컴파일
gcc -o client client.c

# 서버 실행
./server

# 클라이언트 실행
./client
```

### 데이터베이스 설정
```sql
-- 데이터베이스 생성
CREATE DATABASE chat_program;

-- 사용자 테이블 생성
CREATE TABLE users (
    id VARCHAR(50) PRIMARY KEY,
    password VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 채팅 로그 테이블 생성
CREATE TABLE chat_logs (
    log_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(50),
    room_name VARCHAR(100),
    message TEXT,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## 사용 방법
1. **회원가입**: 프로그램 실행 후 새로운 계정 생성
2. **로그인**: 생성한 계정으로 시스템 접속
3. **공개 채팅**: 자동으로 공개 채팅방에 입장
4. **채팅방 생성**: 새로운 채팅방 만들기
5. **채팅방 참여**: 기존 채팅방 검색 및 입장
6. **귓속말**: 특정 사용자에게 개인 메시지 전송

## 개발 성과
- C언어 시스템 프로그래밍 역량 향상
- 네트워크 프로그래밍 및 소켓 통신 이해
- 데이터베이스 연동 기술 습득
- 멀티스레딩/프로세싱 동시성 처리 경험
- 실시간 통신 시스템 설계 및 구현

## 향후 개선 방향
- GUI 인터페이스 추가
- 파일 전송 기능 구현
- 메시지 암호화 기능 추가
- 모바일 클라이언트 지원
- 클라우드 배포 및 확장성 개선

## 라이센스
이 프로젝트는 교육 목적으로 제작되었습니다.
